generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Users {
    id        String   @id
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    name      String
    email     String
    password  String
    avatar    Bytes

    perguntas Perguntas[]
    respostas Respostas[]
}

model Perguntas {
    id        String   @id
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    titulo    String
    descricao String

    respostas Respostas[]
    user      Users       @relation(fields: [userId], references: [id], onDelete: Cascade)
    userId    String
}

model Respostas {
    id        String   @id
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    resposta   String
    pergunta   Perguntas? @relation(fields: [perguntaId], references: [id], onDelete: Cascade)
    perguntaId String?
    user       Users      @relation(fields: [userId], references: [id], onDelete: Cascade)
    userId     String
}
